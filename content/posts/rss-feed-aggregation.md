+++
title = "RSS Feed aggregation"
date = "2023-04-03"
author = "dev"
cover = ""
tags = ["code", "windsor", "rss", "aggregation", "news", "civics"]
showFullContent = false
+++

This post is related to my previous post about [civic code]({{< ref "/posts/civic-code.md" >}}). I mentioned that there are multiple RSS feeds that the city maintains, and that this data is not particularly easy to find and parse. 

We are going to create an RSS feed aggregator creates a weekly summary and automatically creates a new post on this blog.

## The data

First, we need to identify which feeds we'll be using. For now, we are going to keep the list small, however we expect that there will be more sources as time goes on:
- City of Windsor Newsroom -> https://www.citywindsor.ca/Pages/RssFeed.aspx?Catalogue=News
- City of Windsor Open Data Catalogue -> https://opendata.citywindsor.ca/RSS

We'll also need to model the expected output, just to give us something to design. 

The output will look something like:

```
### Weekly summary for {week}

#### News
- itemized list of changes from [previous week](link to previous week)

#### Open Data Catalogue
- itemized list of changes from [previous week](link to previous week)
```

## The process

The flow we expect to use is that our aggregator fetches the current raw feed (if it exists) from its local storage. It compares the local copy to the remote copy of the feed and uses that data to summarize the changes over the past week. The summary is published as a `hugo content post`, the local feed state is updated, and a commit is pushed via git. 

## The aggregator

TODO: render code/rss-feed-aggregator/main.go

## The publisher

TODO: github action to automatically run once a week to create a new hugo post with the markdown generated by the aggregator.

---

**Keep coding with purpose!  ::dev**
